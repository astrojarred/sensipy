---
title: sensitivity - Sensitivity Classes
description: API reference for sensitivity calculation classes.
---

import {Aside} from "@astrojs/starlight/components";

## SensitivityGammapy

Calculate sensitivity curves using Gammapy for gamma-ray observatories.

### Constructor

```python
SensitivityGammapy(
    irf: IRF,
    observatory: str,
    radius: u.Quantity,
    min_energy: u.Quantity = 0.02 * u.TeV,
    max_energy: u.Quantity = 100 * u.TeV,
    min_time: u.Quantity = 10 * u.s,
    max_time: u.Quantity = 43200 * u.s,
    ebl: str | None = None,
    n_sensitivity_points: int = 16,
    sensitivity_curve: u.Quantity | None = None,
    photon_flux_curve: u.Quantity | None = None,
)
```

**Key Parameters:**

| Parameter              | Type         | Description                            | Default    |
| ---------------------- | ------------ | -------------------------------------- | ---------- |
| `irf`                  | `IRF`        | Instrument response function           | Required   |
| `observatory`          | `str`        | Observatory name (e.g., `"ctao_south"`) | Required   |
| `radius`               | `u.Quantity` | Extraction region radius               | Required   |
| `min_energy`           | `u.Quantity` | Minimum energy                         | `0.02 TeV` |
| `max_energy`           | `u.Quantity` | Maximum energy                         | `100 TeV`  |
| `n_sensitivity_points` | `int`        | Number of time points                  | `16`       |

**Example:**

```python
from sensipy.sensitivity import SensitivityGammapy
from astropy import units as u

sens = SensitivityGammapy(
    irf=irf,
    observatory="ctao_south",
    min_energy=20 * u.GeV,
    max_energy=10 * u.TeV,
    radius=3.0 * u.deg,
)
```

### Methods

#### `get_sensitivity_curve()`

Compute sensitivity curve for a given source.

```python
get_sensitivity_curve(grb: Source) -> None
```

Calculates sensitivity and photon flux curves, stored in `sensitivity_curve` and `photon_flux_curve` attributes.

```python
sens.get_sensitivity_curve(grb=source)
print(sens.sensitivity_curve)
```

#### `get()`

Get sensitivity or photon flux at a specific time.

```python
get(
    t: u.Quantity | int | float,
    mode: Literal["sensitivity", "photon_flux"] = "sensitivity",
) -> u.Quantity
```

```python
# Differential sensitivity
diff_sens = sens.get(1000 * u.s, mode="sensitivity")

# Photon flux
phot_flux = sens.get(1000 * u.s, mode="photon_flux")
```

### Properties

#### `sensitivity_curve`

Returns the computed sensitivity curve as `u.Quantity`.

#### `photon_flux_curve`

Returns the computed photon flux curve as `u.Quantity`.

#### `table`

Returns sensitivity data as an Astropy `Table`.

```python
table = sens.table
print(table)
```

#### `pandas`

Returns sensitivity data as a Pandas `DataFrame`.

```python
df = sens.pandas
df.plot(x='time', y='sensitivity', loglog=True)
```

## ScaledTemplateModel

Scaled template spectral model used internally for sensitivity calculations.

### Constructor

```python
ScaledTemplateModel(scaling_factor: int | float = 1e-6, *args, **kwargs)
```

### Class Methods

#### `from_template()`

Create from an existing `TemplateSpectralModel`.

```python
@classmethod
from_template(
    cls,
    model: TemplateSpectralModel,
    scaling_factor: int | float = 1,
) -> ScaledTemplateModel
```

### Properties

- `scaling_factor`: Get/set the scaling factor
- `values`: Get/set template values

<Aside type="note">
  Most users don't interact with `ScaledTemplateModel` directlyâ€”it's used
  internally by `SensitivityGammapy`.
</Aside>

## Related

- [Sensitivity Calculations Guide](/getting_started/sensitivity)
- [Calculating Sensitivity Tutorial](/tutorials/calculating_sensitivity)
- [Source API](/reference/source)
