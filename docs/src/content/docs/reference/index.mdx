---
title: API Reference
description: Complete API reference for sensipy.
---

import {Card, CardGrid} from "@astrojs/starlight/components";

## API Overview

The sensipy API is organized into several key modules:

<CardGrid>
  <Card title="source" icon="document">
    [Source class](/reference/source) for loading and analyzing time-energy
    spectra.
  </Card>

{" "}
<Card title="sensitivity" icon="puzzle">
  [Sensitivity classes](/reference/sensitivity) for calculating observatory
  sensitivity curves.
</Card>

{" "}
<Card title="followup" icon="rocket">
  [Followup functions](/reference/followup) for fast exposure calculations using
  lookup tables.
</Card>

  <Card title="ctaoirf" icon="setting">
    [IRF and IRFHouse classes](/reference/ctaoirf) for managing instrument
    response functions.
  </Card>

  <Card title="detectability" icon="magnifier">
    [Detectability analysis](/reference/detectability) for visualizing and
    analyzing source detectability from lookup tables.
  </Card>
</CardGrid>

## Module Structure

```
sensipy/
├── source.py          # Source class for spectral models
├── sensitivity.py     # Sensitivity calculations
├── followup.py        # Lookup table-based calculations
├── detectability.py   # Detectability analysis and visualization
├── ctaoirf.py        # IRF management
└── util.py           # Utility functions
```

## Quick Reference

### Core Classes

| Class                | Module                | Purpose                                    |
| -------------------- | --------------------- | ------------------------------------------ |
| `Source`             | `sensipy.source`      | Load and manipulate time-resolved spectra  |
| `Sensitivity` | `sensipy.sensitivity` | Calculate sensitivity curves using Gammapy |
| `LookupData`         | `sensipy.detectability` | Analyze and visualize detectability data |
| `IRFHouse`           | `sensipy.ctaoirf`     | Manage and load IRF files                  |
| `IRF`                | `sensipy.ctaoirf`     | Represent single IRF configuration         |

### Key Functions

| Function                 | Module             | Purpose                                      |
| ------------------------ | ------------------ | -------------------------------------------- |
| `get_exposure()`         | `sensipy.followup` | Quick exposure calculation from lookup table |
| `get_sensitivity()`      | `sensipy.followup` | Create Sensitivity from lookup table         |
| `extrapolate_obs_time()` | `sensipy.followup` | Low-level interpolation function             |
| `create_heatmap_grid()`  | `sensipy.detectability` | Create grid of detectability heatmaps |

## Type Hints and Units

sensipy uses `astropy.units` extensively. All physical quantities are typed as `astropy.units.Quantity`:

```python
from astropy import units as u

# Energies
min_energy: u.Quantity = 20 * u.GeV
max_energy: u.Quantity = 10 * u.TeV

# Times
delay: u.Quantity = 30 * u.min
obs_time: u.Quantity = 1000 * u.s

# Angles
radius: u.Quantity = 3.0 * u.deg
zenith: int =20  # degrees (plain int)
```

## Import Patterns

```python
# Main classes
from sensipy.source import Source
from sensipy.sensitivity import Sensitivity
from sensipy.detectability import LookupData
from sensipy.ctaoirf import IRFHouse, IRF

# Followup functions
from sensipy import followup

# Or specific functions
from sensipy.followup import get_exposure, get_sensitivity
from sensipy.detectability import create_heatmap_grid

# Units
from astropy import units as u
```

## Next Steps

Explore the detailed API documentation for each module:

- [Source API](/reference/source) - Complete Source class documentation
- [Sensitivity API](/reference/sensitivity) - Sensitivity calculation methods
- [Followup API](/reference/followup) - Lookup table functions
- [Detectability API](/reference/detectability) - Detectability analysis and visualization
- [CTA IRF API](/reference/ctaoirf) - IRF management
